// Test fÃ¼r String-Library Functions
import std.string;

fn main(): int64 {
  PrintStr("=== String Library Tests ===\n");
  
  // Test 1: Character conversion
  PrintStr("Test 1: Character conversion\n");
  var lower_a: int64 := CharToLower(65);  // 'A' -> 'a'
  var upper_z: int64 := CharToUpper(122); // 'z' -> 'Z'
  PrintStr("'A' to lower: ");
  PrintInt(lower_a);
  PrintStr(" (should be 97)\n");
  PrintStr("'z' to upper: ");
  PrintInt(upper_z);
  PrintStr(" (should be 90)\n\n");
  
  // Test 2: Whitespace detection
  PrintStr("Test 2: Whitespace detection\n");
  var is_space: bool := IsWhitespace(32);   // space
  var is_tab: bool := IsWhitespace(9);     // tab
  var is_a: bool := IsWhitespace(65);      // 'A'
  PrintStr("Space is whitespace: ");
  if (is_space) { PrintStr("true"); } else { PrintStr("false"); }
  PrintStr("\nTab is whitespace: ");
  if (is_tab) { PrintStr("true"); } else { PrintStr("false"); }
  PrintStr("\n'A' is whitespace: ");
  if (is_a) { PrintStr("true"); } else { PrintStr("false"); }
  PrintStr("\n\n");
  
  // Test 3: Safe character access
  PrintStr("Test 3: Safe character access\n");
  var valid_char: int64 := StrSafeCharAt("Hello", 1);
  var invalid_char: int64 := StrSafeCharAt("Hello", 10);
  PrintStr("StrSafeCharAt('Hello', 1): ");
  PrintInt(valid_char);
  PrintStr("\nstr_safe_char_at('Hello', 10): ");
  PrintInt(invalid_char);
  PrintStr(" (should be -1)\n");
  
  return 0;
}