// examples/time_types_demo.lyx
// Demonstration der nativen Zeit-Datentypen: date, time, datetime, timestamp

import std.io;
import std.time;

fn main(): int64 {
  Print("=== Zeittypen Demo ===\n\n");
  
  // 1. DATE - Tage seit Epoch (1970-01-01)
  Print("1. DATE Typ (Tage seit 1970-01-01):\n");
  var d: date := DateFromYmd(2026, 2, 19);
  printf("   Heute: %d (Tage seit Epoch)\n", d);
  printf("   Jahr: %d\n", YearFromDate(d));
  printf("   Monat: %d\n", MonthFromDate(d));
  printf("   Tag: %d\n\n", DayFromDate(d));
  
  // 2. TIME - Sekunden seit Mitternacht
  Print("2. TIME Typ (Sekunden seit Mitternacht):\n");
  var t: time := TimeFromHms(14, 30, 0);
  printf("   Zeit: %d Sekunden\n", t);
  printf("   Stunde: %d\n", HourFromTime(t));
  printf("   Minute: %d\n", MinuteFromTime(t));
  printf("   Sekunde: %d\n\n", SecondFromTime(t));
  
  // 3. DATETIME - Sekunden seit Epoch
  Print("3. DATETIME Typ (Sekunden seit Epoch):\n");
  var dt: datetime := DatetimeFromUnixSeconds(1700000000);
  printf("   Timestamp: %d Sekunden\n", dt);
  var dt_back: int64 := DatetimeToUnixSeconds(dt);
  printf("   Zurueck zu int64: %d\n\n", dt_back);
  
  // 4. TIMESTAMP - Mikrosekunden seit Epoch
  Print("4. TIMESTAMP Typ (Mikrosekunden seit Epoch):\n");
  var ts: timestamp := TimestampFromUnixSeconds(1700000000);
  printf("   Timestamp: %d Mikrosekunden\n", ts);
  var ts_sec: int64 := UnixSecondsFromTimestamp(ts);
  printf("   Sekunden-Anteil: %d\n\n", ts_sec);
  
  // 5. Cast-Operationen
  Print("5. Cast-Operationen zwischen Zeittypen und int64:\n");
  var d_int: int64 := d;
  var d_back: date := d_int;
  printf("   date -> int64 -> date: %d -> %d\n", d_int, d_back);
  
  // 6. Arithmetik (via Cast zu int64)
  Print("\n6. Arithmetik (via Cast zu int64):\n");
  var d_as_int: int64 := d;
  var morgen: date := d_as_int + 1;
  printf("   Heute + 1 Tag: %d\n", morgen);
  printf("   (Jahr: %d, Monat: %d, Tag: %d)\n", 
         YearFromDate(morgen), MonthFromDate(morgen), DayFromDate(morgen));
  
  Print("\n=== Demo beendet ===\n");
  return 0;
}
