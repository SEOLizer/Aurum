--- a/ir/lower_ast_to_ir.pas
+++ b/ir/lower_ast_to_ir.pas
@@ -225,10 +225,15 @@
         end;
 
 
-      // lower statements sequentially
-      for j := 0 to High(TAstFuncDecl(node).Body.Stmts) do
+      // lower statements sequentially (skip extern functions without body)
+      if not TAstFuncDecl(node).IsExtern and Assigned(TAstFuncDecl(node).Body) then
       begin
-        LowerStmt(TAstFuncDecl(node).Body.Stmts[j]);
+        for j := 0 to High(TAstFuncDecl(node).Body.Stmts) do
+        begin
+          LowerStmt(TAstFuncDecl(node).Body.Stmts[j]);
+        end;
+      end
+      else
+      begin
+        // Extern function: no body to lower, just register the function
       end;
       FCurrentFunc := nil;
     end
